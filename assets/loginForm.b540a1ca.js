import{b as k,C as g,D as v,r,e as C,k as V,n as e,w as s,u,s as c,B as x,L as b}from"./vendor.aaa0b5f4.js";import{l as h}from"./index.9a82b46a.js";const y={class:"login"},R=c("label",{for:"chk","aria-hidden":"true"},"\u767B \u5F55",-1),L=k({setup(U){const _=x(),i=g(),t=v({username:"",password:""}),f={username:{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},password:{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}},F=async l=>{!l||l.validate(async(o,d)=>{if(o){const n=await h(t);n&&(localStorage.setItem("token",n.token),_.push("/"))}})};return(l,o)=>{const d=r("User"),n=r("el-icon"),p=r("el-input"),m=r("el-form-item"),w=r("Lock"),B=r("el-form");return C(),V("div",y,[R,e(B,{ref_key:"loginFormRef",ref:i,model:u(t),"label-position":"left","hide-required-asterisk":"",rules:f},{default:s(()=>[e(m,{prop:"username"},{default:s(()=>[e(p,{modelValue:u(t).username,"onUpdate:modelValue":o[0]||(o[0]=a=>u(t).username=a),clearable:"",placeholder:"\u7BA1\u7406\u5458\u8F93\u5165admin\uFF0C\u6E38\u5BA2\u8F93\u5165visitor"},{prefix:s(()=>[e(n,{size:"18px"},{default:s(()=>[e(d)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:s(()=>[e(p,{modelValue:u(t).password,"onUpdate:modelValue":o[1]||(o[1]=a=>u(t).password=a),type:"password",clearable:"","show-password":"",placeholder:"\u5BC6\u7801123456"},{prefix:s(()=>[e(n,{size:"18px"},{default:s(()=>[e(w)]),_:1})]),_:1},8,["modelValue"])]),_:1}),c("button",{onClick:o[2]||(o[2]=b(a=>F(i.value),["prevent"]))},"\u767B \u5F55")]),_:1},8,["model"])])}}});export{L as default};
